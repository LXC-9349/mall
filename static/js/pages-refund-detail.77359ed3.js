(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-refund-detail"],{"225cd":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 引入uView全局scss变量文件 */.detail-header[data-v-7b86cf45]{position:relative;width:100%;height:%?140?%}.detail-header .header-backdrop[data-v-7b86cf45]{width:100%;position:absolute;top:0;left:0;z-index:0}.detail-header .header-backdrop .image[data-v-7b86cf45]{display:block;width:100%;height:%?140?%}.header-state[data-v-7b86cf45]{z-index:1;padding:0 %?50?%}\r\n/* 商品详情 */.detail-goods[data-v-7b86cf45]{padding:%?24?% %?20?%}.detail-goods .left .goods-image[data-v-7b86cf45]{display:block;width:%?150?%;height:%?150?%}.detail-goods .right[data-v-7b86cf45]{padding-left:%?20?%}.detail-goods .goods-props[data-v-7b86cf45]{margin-top:%?14?%;height:%?40?%;color:#ababab;font-size:%?24?%;overflow:hidden}.detail-goods .goods-props .goods-props-item[data-v-7b86cf45]{display:inline-block;margin-right:%?14?%;padding:%?4?% %?16?%;border-radius:%?12?%;background-color:#f5f5f5;width:auto}.detail-order[data-v-7b86cf45]{padding:%?15?% %?20?%;font-size:%?26?%}.detail-order .item[data-v-7b86cf45]{margin-bottom:%?10?%}.detail-order .item[data-v-7b86cf45]:last-child{margin-bottom:0}\r\n/* 售后详情 */.detail-refund[data-v-7b86cf45]{padding:%?15?% %?20?%}.detail-refund__row[data-v-7b86cf45]{margin:%?20?% 0}\r\n/* 申请凭证 */.image-list[data-v-7b86cf45]{margin-bottom:%?-15?%}.image-list .image-preview[data-v-7b86cf45]{margin:0 %?15?% %?15?% 0;float:left}.image-list .image-preview .image[data-v-7b86cf45]{display:block;width:%?180?%;height:%?180?%}.image-list .image-preview[data-v-7b86cf45]:nth-child(3n+0){margin-right:0}\r\n/* 商家收货地址 */.detail-address[data-v-7b86cf45]{padding:%?20?% %?34?%}.address-details[data-v-7b86cf45]{padding:%?8?% 0;border-bottom:1px solid #eee}.address-details .address-details__row[data-v-7b86cf45]{margin:%?14?% 0}.address-tips[data-v-7b86cf45]{margin-top:%?16?%;line-height:%?46?%}\r\n/* 填写物流信息 */.detail-express[data-v-7b86cf45]{padding:%?10?% %?30?%}.form-group[data-v-7b86cf45]{height:%?60?%;margin:%?14?% 0}.form-group .input[data-v-7b86cf45]{height:100%;font-size:%?28?%}\r\n/* 底部操作栏 */.footer[data-v-7b86cf45]{margin-top:%?60?%}.footer .btn-wrapper[data-v-7b86cf45]{height:100%;display:flex;align-items:center;padding:0 %?20?%}.footer .btn-item[data-v-7b86cf45]{flex:1;font-size:%?28?%;height:%?80?%;color:#f5f9f6;border-radius:%?50?%;display:flex;justify-content:center;align-items:center}.footer .btn-item-main[data-v-7b86cf45]{background:linear-gradient(90deg,#f9211c,#ff6335)}.footer .btn-item-main.disabled[data-v-7b86cf45]{background:#ff9779}',""]),e.exports=t},"2e6c":function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.sendBack=t.list=t.goods=t.detail=t.apply=void 0;var s=i(a("9b1b")),n=i(a("48f3")),r={list:"work_mall/mall/order/after_sales/list",goods:"refund/goods",apply:"work_mall/mall/order/after_sales",detail:"work_mall/mall/order/after_sales/detail/",sendBack:"work_mall/mall/order/after_sales/sendBack"};t.list=function(e){return n.default.post(r.list,e)};t.goods=function(e,t){return n.default.get(r.goods,(0,s.default)({orderGoodsId:e},t))};t.apply=function(e){return n.default.post(r.apply,e)};t.detail=function(e){return n.default.get(r.detail+e)};t.sendBack=function(e){return n.default.post(r.sendBack,e)}},"3f16":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoading?e._e():a("v-uni-view",{staticClass:"container p-bottom"},[a("v-uni-view",{staticClass:"detail-header dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"header-backdrop"},[a("v-uni-image",{staticClass:"image",attrs:{src:"/static/order/refund-bg.png"}})],1),a("v-uni-view",{staticClass:"header-state"},[a("v-uni-text",{staticClass:"f-32 col-f"},[e._v(e._s(e.$dictLabel(e.refundStatus,e.order.status)))])],1)],1),a("v-uni-view",{staticClass:"detail-goods b-f m-top20 dis-flex flex-dir-row",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onGoodsDetail(e.order.item.goodsId)}}},[a("v-uni-view",{staticClass:"left"},[a("v-uni-image",{staticClass:"goods-image",attrs:{src:e.$filePath(e.order.item.goodsCoverImg)}})],1),a("v-uni-view",{staticClass:"right dis-flex flex-box flex-dir-column flex-x-around"},[a("v-uni-view",{staticClass:"goods-name"},[a("v-uni-text",{staticClass:"twoline-hide"},[e._v(e._s(e.order.item.goodsName))])],1),a("v-uni-view",{staticClass:"dis-flex col-9 f-24"},[a("v-uni-view",{staticClass:"goods-props clearfix"},e._l(e.order.item.specList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"goods-props-item"},[a("v-uni-text",{staticClass:"group-name"},[e._v(e._s(t.name)+":")]),a("v-uni-text",[e._v(e._s(t.list.at(0).name)+"；")])],1)})),1),a("v-uni-view",{staticClass:"goods-num t-r"},[a("v-uni-text",{staticClass:"f-26 col-8"},[e._v("×"+e._s(e.order.item.goodsCount))])],1)],1)],1)],1),a("v-uni-view",{staticClass:"detail-order b-f row-block"},[a("v-uni-view",{staticClass:"item dis-flex flex-x-end flex-y-center"},[a("v-uni-text",{},[e._v("商品金额：")]),a("v-uni-text",{staticClass:"col-m"},[e._v("￥"+e._s(e.order.refundMoney))])],1)],1),6!=e.order.item.status||0!=e.order.type&&3!=e.order.type?e._e():a("v-uni-view",{staticClass:"detail-order b-f row-block dis-flex flex-x-end flex-y-center"},[a("v-uni-text",{},[e._v("已退款金额：")]),a("v-uni-text",{staticClass:"col-m"},[e._v("￥"+e._s(e.order.item.refundMoney))])],1),a("v-uni-view",{staticClass:"detail-refund b-f m-top20"},[a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("售后类型：")])],1),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-text",[e._v(e._s(e.$dictLabel(e.refundType,e.order.type)))])],1)],1),a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("申请原因：")])],1),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-text",[e._v(e._s(e.order.reason))])],1)],1),e.order.proofList&&e.order.proofList.length>0?a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("申请凭证：")])],1),a("v-uni-view",{staticClass:"image-list flex-box"},e._l(e.order.proofList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"image-preview"},[a("v-uni-image",{staticClass:"image",attrs:{mode:"aspectFill",src:e.$filePath(t)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePreviewImages(i)}}})],1)})),1)],1):e._e()],1),-1==e.order.status?a("v-uni-view",{staticClass:"detail-refund b-f m-top20"},[a("v-uni-view",{staticClass:"detail-refund__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",{staticClass:"col-m"},[e._v("拒绝原因：")])],1),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-text",[e._v(e._s(e.order.failInfo))])],1)],1)],1):e._e(),e.order.wlCompany?a("v-uni-view",{staticClass:"detail-address b-f m-top20"},[a("v-uni-view",{staticClass:"detail-address__row address-title"},[a("v-uni-text",{staticClass:"col-m"},[e._v("退货物流信息")])],1),a("v-uni-view",{staticClass:"detail-address__row address-details"},[a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("物流公司："+e._s(e.order.wlCompany))])],1),a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("物流单号："+e._s(e.order.wlNo))])],1)],1)],1):e._e(),e.order.busAddress?a("v-uni-view",{staticClass:"detail-address b-f m-top20"},[a("v-uni-view",{staticClass:"detail-address__row address-title"},[a("v-uni-text",{staticClass:"col-m"},[e._v("商家退货地址")])],1),a("v-uni-view",{staticClass:"detail-address__row address-details"},[a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("收货人名："+e._s(e.order.busName))])],1),a("v-uni-view",{staticClass:"address-details__row"},[a("v-uni-text",[e._v("联系电话："+e._s(e.order.busPhone))])],1),a("v-uni-view",{staticClass:"address-details__row dis-flex"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-text",[e._v("详细地址：")])],1),a("v-uni-view",{staticClass:"address flex-box"},[a("v-uni-text",{staticClass:"detail"},[e._v(e._s(e.order.busAddress))])],1)],1)],1),a("v-uni-view",{staticClass:"detail-address__row address-tips"},[a("v-uni-view",{staticClass:"f-26 col-9"},[a("v-uni-text",[e._v("· 未与卖家协商一致情况下，请勿寄到付或平邮")])],1),a("v-uni-view",{staticClass:"f-26 col-9"},[a("v-uni-text",[e._v("· 请填写真实有效物流信息")])],1)],1)],1):e._e(),1==e.order.status?a("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.onSubmit()}}},[a("v-uni-view",{staticClass:"detail-express b-f m-top20"},[a("v-uni-view",{staticClass:"form-group dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"field"},[e._v("物流公司：")]),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-input",{staticClass:"input",attrs:{placeholder:"请填写物流公司"},model:{value:e.formData.wlCompany,callback:function(t){e.$set(e.formData,"wlCompany",t)},expression:"formData.wlCompany"}})],1)],1),a("v-uni-view",{staticClass:"form-group dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"field"},[e._v("物流单号：")]),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-input",{staticClass:"input",attrs:{placeholder:"请填写物流单号"},model:{value:e.formData.wlNo,callback:function(t){e.$set(e.formData,"wlNo",t)},expression:"formData.wlNo"}})],1)],1),a("v-uni-view",{staticClass:"form-group dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"field"},[e._v("备注：")]),a("v-uni-view",{staticClass:"flex-box"},[a("v-uni-textarea",{staticClass:"input",attrs:{maxlength:"500",placeholder:"请输入备注"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1),a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"btn-wrapper"},[a("v-uni-button",{staticClass:"btn-item btn-item-main btn-normal",class:{disabled:e.disabled},attrs:{formType:"submit"}},[e._v("确认寄回")])],1)],1)],1):e._e()],1)},s=[]},"4af5":function(e,t,a){"use strict";a.r(t);var i=a("3f16"),s=a("fa0f");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("8d1e");var r=a("828b"),d=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"7b86cf45",null,!1,i["a"],void 0);t["default"]=d.exports},"6ccf":function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("7bf7")),n=new s.default([{key:"WAIT",name:"待审核",value:0},{key:"REVIEWED",name:"已同意",value:10},{key:"REJECTED",name:"已拒绝",value:20}]);t.default=n},"7bf7":function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7a76"),a("c9b5"),a("fd3c"),a("aa9c"),a("5ef2");var s=i(a("80b1")),n=i(a("efe5")),r=function(){function e(t){var a=this;(0,s.default)(this,e);var i=[],n=[];if(!Array.isArray(t))throw new Error("param is not an array!");t.map((function(e){e.key&&e.name&&(i.push(e.key),n.push(e.value),a[e.key]=e,e.key!==e.value&&(a[e.value]=e))})),this.data=t,this.keyArr=i,this.valueArr=n}return(0,n.default)(e,[{key:"keyOf",value:function(e){return this.data[this.keyArr.indexOf(e)]}},{key:"valueOf",value:function(e){return this.data[this.valueArr.indexOf(e)]}},{key:"getNameByKey",value:function(e){var t=this.keyOf(e);if(!t)throw new Error("No enum constant"+e);return t.name}},{key:"getNameByValue",value:function(e){var t=this.valueOf(e);if(!t)throw new Error("No enum constant"+e);return t.name}},{key:"getValueByKey",value:function(e){var t=this.keyOf(e);if(!t)throw new Error("No enum constant"+e);return t.key}},{key:"getData",value:function(){return this.data}}]),e}(),d=r;t.default=d},"7f1b":function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AuditStatusEnum",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"RefundStatusEnum",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"RefundTypeEnum",{enumerable:!0,get:function(){return r.default}});var s=i(a("6ccf")),n=i(a("918a")),r=i(a("c037"))},"8d1e":function(e,t,a){"use strict";var i=a("fa57"),s=a.n(i);s.a},"918a":function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("7bf7")),n=new s.default([{key:"NORMAL",name:"进行中",value:0},{key:"REJECTED",name:"已拒绝",value:10},{key:"COMPLETED",name:"已完成",value:20},{key:"CANCELLED",name:"已取消",value:30}]);t.default=n},af60:function(e,t,a){"use strict";(function(e){a("6a54");var i=a("3639").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bf0f"),a("18f7"),a("de6c"),a("fd3c");var s=a("7f1b"),n=i(a("2e6c")),r=(i(a("cf9a")),a("4df0")),d=a("f535"),o={data:function(){return{AuditStatusEnum:s.AuditStatusEnum,RefundStatusEnum:s.RefundStatusEnum,RefundTypeEnum:s.RefundTypeEnum,isLoading:!0,orderRefundId:null,detail:{},expressList:[],formData:{itemId:null,id:null,wlCompany:"",wlNo:"",remark:""},expressIndex:-1,disabled:!1,refundType:[],refundStatus:[]}},onLoad:function(e){var t=this,a=e.orderRefundId;this.orderRefundId=a,this.formData.id=a,this.getPageData(),(0,d.getDicts)("refund_type").then((function(e){t.refundType=e})),(0,d.getDicts)("refund_status").then((function(e){t.refundStatus=e}))},methods:{getStatusStr:function(e){var t="";return-1==e?t="未通过":0==e?t="商家审核中":1==e?t="待买家寄回":2==e?t="发货处理中":3==e?t="已完成":4==e&&(t="退款审核中"),t},getPageData:function(){var e=this;e.isLoading=!0,Promise.all([e.getRefundDetail()]).then((function(t){e.isLoading=!1}))},getRefundDetail:function(){var t=this,a=this;return new Promise((function(i,s){n.detail(a.orderRefundId).then((function(s){a.order=s,e.log(1232132,a.order),t.formData.itemId=s.itemId,i()})).catch(s)}))},onGoodsDetail:function(e){this.$navTo("pages/goods/detail",{goodsId:e})},handlePreviewImages:function(e){var t=this.order.proofList,a=t.map((function(e){return(0,r.filePath)(e)}));uni.previewImage({current:a[e],urls:a})},onSubmit:function(){var e=this;if(!0===e.disabled)return!1;e.disabled=!0,n.sendBack(e.formData).then((function(t){e.$toast("已提交"),setTimeout((function(){e.disabled=!1,uni.navigateBack()}),1500)})).catch((function(t){return e.disabled=!1}))}}};t.default=o}).call(this,a("ba7c")["default"])},c037:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("7bf7")),n=new s.default([{key:"TH",name:"退换",value:0},{key:"THK",name:"退货退款",value:1},{key:"TK",name:"仅退款",value:2},{key:"BF",name:"补发",value:3}]);t.default=n},cf9a:function(e,t,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.list=void 0;var s=i(a("48f3")),n={list:"express/list"};t.list=function(e){return s.default.get(n.list,e)}},fa0f:function(e,t,a){"use strict";a.r(t);var i=a("af60"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},fa57:function(e,t,a){var i=a("225cd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("967d").default;s("669f9a71",i,!0,{sourceMap:!1,shadowMode:!1})}}]);